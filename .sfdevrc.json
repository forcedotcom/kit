{
  "wireit": {
    "compile-esm": {
      "command": "tsc --module es2022 --outDir esm --incremental; echo '{\"type\": \"module\"}' > esm/package.json",
      "files": ["src/**/*.ts", "**/tsconfig.json", "messages/**"],
      "output": ["esm/**", "*.tsbuildinfo"],
      "clean": "if-file-deleted"
    },
    "compile-cjs": {
      "command": "tsc --module commonjs --outDir lib --incremental; echo '{\"type\": \"commonjs\"}' > lib/package.json",
      "files": ["src/**/*.ts", "**/tsconfig.json", "messages/**"],
      "output": ["lib/**", "*.tsbuildinfo"],
      "clean": "if-file-deleted"
    },
    "compile": {
      "dependencies": ["compile-esm", "compile-cjs"]
    }
  }
}
